<template>
  <div class="header-wrapper">
    <!-- é ‚éƒ¨å…¬å‘Šæ©«å¹… (æ¨¡ä»¿ Zapier çš„ ZapConnect 2025 æ©«å¹…) -->
    <div v-if="showBanner" class="bg-gradient-to-r from-primary-500 to-accent-red text-white text-center py-3 px-4 relative">
      <div class="flex items-center justify-center gap-2 text-sm font-medium">
        <span class="text-lg">âš¡ï¸</span>
        <span>å¾æ§‹æƒ³åˆ°å¯¦ç¾â€”çœ‹çœ‹ AI åœ¨ TW_Connect 2025 èƒ½åšä»€éº¼ã€‚</span>
        <NuxtLink to="/tw-connect" class="underline hover:no-underline font-semibold ml-2">
          ç«‹å³å ±å
        </NuxtLink>
      </div>
      <button @click="closeBanner" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white/80 hover:text-white transition-colors" aria-label="é—œé–‰æ©«å¹…">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- ä¸»è¦ Header -->
    <header class="bg-white sticky top-0 z-50 border-b border-neutral-100">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          
          <!-- å·¦å´ï¼šLogo -->
          <div class="flex items-center">
            <NuxtLink to="/" class="flex items-center gap-3 group mr-8" aria-label="TW_Zapier é¦–é ">
              <!-- Logo SVG -->
              <svg class="w-8 h-8 text-primary-500 group-hover:text-primary-600 transition-colors" viewBox="0 0 32 32" fill="currentColor">
                <path d="M8 4h16v4H12v8h12v4H8V4z" />
                <path d="M24 28H8v-4h12v-8H8v-4h16v16z" />
                <circle cx="16" cy="16" r="2" />
              </svg>
              <span class="text-xl font-bold text-neutral-900 group-hover:text-primary-600 transition-colors">
                TW_Zapier
              </span>
            </NuxtLink>
          </div>

          <!-- ä¸­é–“ï¼šä¸»å°èˆªé¸å–® (æ¡Œé¢ç‰ˆ) -->
          <nav class="hidden lg:flex items-center space-x-8" role="navigation">
            <!-- Products ä¸‹æ‹‰é¸å–® -->
            <div class="relative group">
              <button class="flex items-center gap-1 text-neutral-700 hover:text-primary-500 font-medium transition-colors py-2" aria-expanded="false" aria-haspopup="true">
                ç”¢å“åŠŸèƒ½
                <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>

              <!-- å…¨å¯¬åº¦ä¸‹æ‹‰é¸å–® -->
              <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-screen max-w-7xl bg-white shadow-xl border border-neutral-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <!-- <div class="Submenu-module_root_BoW-D-ZP"> -->
                <div class="flex">
                  <!-- ä¸»è¦å…§å®¹å€ -->
                  <div class="flex-1 p-8">
                    <div class="mb-6">
                      <h3 class="text-lg font-semibold text-neutral-900 mb-2">TW_Zapier è‡ªå‹•åŒ–å¹³å°</h3>
                      <p class="text-sm text-neutral-600">ç„¡ç¨‹å¼ç¢¼è‡ªå‹•åŒ–ï¼Œæ•´åˆ 7,000+ æ‡‰ç”¨ç¨‹å¼</p>
                    </div>

                    <!-- ç”¢å“å€å¡Š -->
                    <div class="mb-8">
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">ç”¢å“</h4>
                      <div class="grid grid-cols-2 gap-4">
                        <NuxtLink to="/workflows" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-primary-500" fill="currentColor" viewBox="0 0 256 256">
                              <path d="M245.66,85.66l-32,32a8,8,0,0,1-11.32-11.32L220.69,88H208c-38.67,0-46.59,19-56.62,43.08C141.05,155.88,129.33,184,80,184H79a32,32,0,1,1,0-16h1c38.67,0,46.59-19,56.62-43.08C147,100.12,158.67,72,208,72h12.69L202.34,53.66a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,245.66,85.66Z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">å·¥ä½œæµç¨‹</h5>
                            <p class="text-sm text-neutral-600">DIY è‡ªå‹•åŒ–å·¥ä½œæµç¨‹</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/tables" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M12 2.9978H21.0022V7.49897H12V2.9978Z"></path>
                              <path d="M12 7.49897L2.99756 7.4989V12.0001H11.9997L12 7.49897Z"></path>
                              <path d="M11.9997 12.0001L21.0022 12V16.5012H12L11.9997 12.0001Z"></path>
                              <path d="M2.99756 16.5011L12 16.5012L11.9997 21.0023H2.99756V16.5011Z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">è³‡æ–™è¡¨</h5>
                            <p class="text-sm text-neutral-600">ç‚ºå·¥ä½œæµç¨‹è¨­è¨ˆçš„è³‡æ–™åº«</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/interfaces" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M7.49989 7.50049V16.5001L16.4999 16.5001V21H3.00022L3 3H20.9999V16.5001L16.4999 16.5001L16.5 7.50049L7.49989 7.50049Z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">ä»‹é¢</h5>
                            <p class="text-sm text-neutral-600">è‡ªè¨‚é é¢é©…å‹•æ‚¨çš„å·¥ä½œæµç¨‹</p>
                          </div>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- åŠŸèƒ½å€å¡Š -->
                    <div class="mb-8">
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">åŠŸèƒ½</h4>
                      <div class="grid grid-cols-2 gap-4">
                        <NuxtLink to="/apps" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M4 4h4v4H4V4zm6 0h4v4h-4V4zm6 0h4v4h-4V4zM4 10h4v4H4v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4zM4 16h4v4H4v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">æ‡‰ç”¨ç¨‹å¼æ•´åˆ</h5>
                            <p class="text-sm text-neutral-600">æ¢ç´¢ 7,000+ æ‡‰ç”¨ç¨‹å¼é€£æ¥</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/ai" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-orange-600" fill="currentColor" viewBox="0 0 256 256">
                              <path d="M120,72a8,8,0,1,1,8,8A8,8,0,0,1,120,72Zm24,64a8,8,0,1,0,8-8A8,8,0,0,0,144,136Zm48.5,35.47A88.32,88.32,0,0,0,224,101.89q0-1.1-.09-2.19a4,4,0,0,0-4-3.75H195.75L172.62,123.7a24,24,0,1,1-12.28-10.25l25.51-30.62A8,8,0,0,1,192,80h23.14a4,4,0,0,0,3.77-5.35C207.27,42,176.86,18,140.74,16.08l-.59,0a4,4,0,0,0-4.15,4V49.33a24,24,0,1,1-16,0v-27a4,4,0,0,0-4.89-3.91A88.16,88.16,0,0,0,48,102L25.55,145.14l-.22.45a16,16,0,0,0,7.51,20.7l.25.12L56,176.9v31a16,16,0,0,0,16,16h40v8a8,8,0,0,0,8,8h71.77a8.42,8.42,0,0,0,4.06-1,8,8,0,0,0,4.11-8Z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">AI è‡ªå‹•åŒ– ğŸª„</h5>
                            <p class="text-sm text-neutral-600">å°–ç«¯ AI å‡ç´šæ‚¨çš„å·¥ä½œæµç¨‹</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/security-compliance" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M12 1l9 4v6c0 5.55-3.84 10.74-9 12-5.16-1.26-9-6.45-9-12V5l9-4z"></path>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">å®‰å…¨æ€§</h5>
                            <p class="text-sm text-neutral-600">ä¼æ¥­ç´šå®‰å…¨ä¿éšœ</p>
                          </div>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- åº•éƒ¨é€£çµ -->
                    <div class="flex gap-6 text-sm">
                      <NuxtLink to="/templates" class="text-primary-500 hover:text-primary-600 font-medium">æ¢ç´¢ç¯„æœ¬</NuxtLink>
                      <NuxtLink to="/use-cases" class="text-primary-500 hover:text-primary-600 font-medium">æ¢ç´¢ä½¿ç”¨æ¡ˆä¾‹</NuxtLink>
                      <NuxtLink to="/early-access" class="text-primary-500 hover:text-primary-600 font-medium">åŠ å…¥æ¶å…ˆé«”é©—</NuxtLink>
                    </div>
                  </div>

                  <!-- å³å´é‚Šæ¬„ -->
                  <div class="w-80 bg-neutral-50 p-8">
                    <div class="mb-6">
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">æœ€æ–°åŠŸèƒ½</h4>
                      <div class="space-y-4">
                        <NuxtLink to="/canvas" class="group-item block p-3 rounded-lg hover:bg-white transition-colors">
                          <div class="flex items-center gap-2 mb-1">
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Canvas</h5>
                            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">Beta</span>
                          </div>
                          <p class="text-sm text-neutral-600">ä½¿ç”¨ AI è¦åŠƒå’Œæ˜ å°„æ‚¨çš„å·¥ä½œæµç¨‹</p>
                        </NuxtLink>

                        <NuxtLink to="/ai/chatbot" class="group-item block p-3 rounded-lg hover:bg-white transition-colors">
                          <div class="flex items-center gap-2 mb-1">
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">èŠå¤©æ©Ÿå™¨äºº</h5>
                            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">Beta</span>
                          </div>
                          <p class="text-sm text-neutral-600">ä½¿ç”¨ AI èŠå¤©æ©Ÿå™¨äººå›ç­”å®¢æˆ¶å•é¡Œ</p>
                        </NuxtLink>

                        <NuxtLink to="/agents" class="group-item block p-3 rounded-lg hover:bg-white transition-colors">
                          <div class="flex items-center gap-2 mb-1">
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">AI ä»£ç†</h5>
                            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">Beta</span>
                          </div>
                          <p class="text-sm text-neutral-600">ç‚ºä»»ä½•ä»»å‹™å‰µå»ºæ‚¨è‡ªå·±çš„ AI åŠ©æ‰‹</p>
                        </NuxtLink>

                        <NuxtLink to="/functions" class="group-item block p-3 rounded-lg hover:bg-white transition-colors">
                          <div class="flex items-center gap-2 mb-1">
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">å‡½æ•¸</h5>
                            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">Beta</span>
                          </div>
                          <p class="text-sm text-neutral-600">åœ¨ç¶²é  IDE ä¸­ç·¨å¯«æ‚¨çš„å·¥ä½œæµç¨‹</p>
                        </NuxtLink>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Solutions ä¸‹æ‹‰é¸å–® -->
            <div class="relative group">
              <button class="flex items-center gap-1 text-neutral-700 hover:text-primary-500 font-medium transition-colors py-2" aria-expanded="false" aria-haspopup="true">
                è§£æ±ºæ–¹æ¡ˆ
                <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>

              <!-- å…¨å¯¬åº¦ä¸‹æ‹‰é¸å–® -->
              <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-screen max-w-7xl bg-white shadow-xl border border-neutral-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <div class="flex">
                  <!-- ä¸»è¦å…§å®¹å€ -->
                  <div class="flex-1 p-8">
                    <!-- By Team å€å¡Š -->
                    <div class="mb-8">
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">ä¾åœ˜éšŠåˆ†é¡</h4>
                      <div class="grid grid-cols-2 gap-4">
                        <NuxtLink to="/solutions/marketing" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-pink-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"/>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">è¡ŒéŠ·åœ˜éšŠ</h5>
                            <p class="text-sm text-neutral-600">æå‡è¡ŒéŠ·æ´»å‹•æ•ˆæœå’Œ ROI</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/sales" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"/>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">æ¥­å‹™åœ˜éšŠ</h5>
                            <p class="text-sm text-neutral-600">æˆäº¤æ›´å¤šäº¤æ˜“</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/it" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                              <path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"/>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">IT åœ˜éšŠ</h5>
                            <p class="text-sm text-neutral-600">é€éè‡ªå‹•åŒ–æ›´å¥½åœ°ç®¡ç†ç³»çµ±</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/hr" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                              <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM9 8a2 2 0 100-4 2 2 0 000 4zM7 14a5.971 5.971 0 00-3.055-.814H3a3 3 0 00-3 3V20h20v-3.814a3 3 0 00-3-3h-.945A5.971 5.971 0 0013 14H7z"/>
                            </svg>
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">äººè³‡åœ˜éšŠ</h5>
                            <p class="text-sm text-neutral-600">ç°¡åŒ–æ‹›è˜å’Œå“¡å·¥ç®¡ç†æµç¨‹</p>
                          </div>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- By App å€å¡Š -->
                    <div class="mb-8">
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">ä¾æ‡‰ç”¨ç¨‹å¼åˆ†é¡</h4>
                      <div class="grid grid-cols-3 gap-4">
                        <NuxtLink to="/solutions/salesforce" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/salesforce_logo.avif" alt="Salesforce" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Salesforce</h5>
                            <p class="text-sm text-neutral-600">è‡ªå‹•åŒ–æ‚¨çš„ CRM å·¥ä½œæµç¨‹</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/hubspot" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/hubspot_logo.png" alt="HubSpot" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">HubSpot</h5>
                            <p class="text-sm text-neutral-600">æ•´åˆè¡ŒéŠ·å’ŒéŠ·å”®æµç¨‹</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/slack" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/slack_logo.png" alt="Slack" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Slack</h5>
                            <p class="text-sm text-neutral-600">è‡ªå‹•åŒ–åœ˜éšŠæºé€š</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/microsoft-teams" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/microsoft-teams_logo.avif" alt="Microsoft Teams" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Microsoft Teams</h5>
                            <p class="text-sm text-neutral-600">æå‡å”ä½œæ•ˆç‡</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/jira" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/jira_logo.png" alt="Jira" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Jira</h5>
                            <p class="text-sm text-neutral-600">è‡ªå‹•åŒ–å°ˆæ¡ˆç®¡ç†</p>
                          </div>
                        </NuxtLink>

                        <NuxtLink to="/solutions/zendesk" class="group-item flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center flex-shrink-0 border border-neutral-200">
                            <img src="/images/zendesk_logo.png" alt="Zendesk" class="w-6 h-6 object-contain" />
                          </div>
                          <div>
                            <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">Zendesk</h5>
                            <p class="text-sm text-neutral-600">å„ªåŒ–å®¢æˆ¶æœå‹™</p>
                          </div>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- åº•éƒ¨é€£çµ -->
                    <div class="flex gap-6 text-sm">
                      <NuxtLink to="/solutions" class="text-primary-500 hover:text-primary-600 font-medium">æŸ¥çœ‹æ‰€æœ‰è§£æ±ºæ–¹æ¡ˆ</NuxtLink>
                      <NuxtLink to="/case-studies" class="text-primary-500 hover:text-primary-600 font-medium">å®¢æˆ¶æ¡ˆä¾‹</NuxtLink>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Resources ä¸‹æ‹‰é¸å–® -->
            <div class="relative group">
              <button class="flex items-center gap-1 text-neutral-700 hover:text-primary-500 font-medium transition-colors py-2" aria-expanded="false" aria-haspopup="true">
                è³‡æºä¸­å¿ƒ
                <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>

              <!-- å…¨å¯¬åº¦ä¸‹æ‹‰é¸å–® -->
              <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-screen max-w-5xl bg-white shadow-xl border border-neutral-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <div class="p-8">
                  <div class="grid grid-cols-3 gap-8">
                    <!-- å­¸ç¿’è³‡æº -->
                    <div>
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">å­¸ç¿’è³‡æº</h4>
                      <div class="space-y-3">
                        <NuxtLink to="/blog" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">éƒ¨è½æ ¼</h5>
                          <p class="text-sm text-neutral-600">é–±è®€æ‡‰ç”¨ç¨‹å¼å’Œè‡ªå‹•åŒ–ç›¸é—œæ–‡ç« </p>
                        </NuxtLink>
                        <NuxtLink to="/templates" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">ç¯„æœ¬åº«</h5>
                          <p class="text-sm text-neutral-600">å¿«é€Ÿé–‹å§‹çš„é å»ºç¯„æœ¬</p>
                        </NuxtLink>
                        <NuxtLink to="/webinars" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">ç¶²è·¯ç ”è¨æœƒ</h5>
                          <p class="text-sm text-neutral-600">åƒåŠ å³æ™‚å’ŒéŒ„è£½çš„ç ”è¨æœƒ</p>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- æ”¯æ´ -->
                    <div>
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">æ”¯æ´</h4>
                      <div class="space-y-3">
                        <NuxtLink to="/help" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">èªªæ˜ä¸­å¿ƒ</h5>
                          <p class="text-sm text-neutral-600">å°‹æ‰¾å•é¡Œçš„ç­”æ¡ˆ</p>
                        </NuxtLink>
                        <NuxtLink to="/community" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">ç¤¾ç¾¤è«–å£‡</h5>
                          <p class="text-sm text-neutral-600">èˆ‡å…¶ä»–ç”¨æˆ¶äº¤æµç¶“é©—</p>
                        </NuxtLink>
                        <NuxtLink to="/contact" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">è¯çµ¡æˆ‘å€‘</h5>
                          <p class="text-sm text-neutral-600">ç²å¾—å°ˆæ¥­æ”¯æ´</p>
                        </NuxtLink>
                      </div>
                    </div>

                    <!-- å…¬å¸ -->
                    <div>
                      <h4 class="text-sm font-semibold text-neutral-900 mb-4 uppercase tracking-wide">å…¬å¸</h4>
                      <div class="space-y-3">
                        <NuxtLink to="/about" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">é—œæ–¼æˆ‘å€‘</h5>
                          <p class="text-sm text-neutral-600">äº†è§£ TW_Zapier çš„æ•…äº‹</p>
                        </NuxtLink>
                        <NuxtLink to="/careers" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">è·æ¶¯æ©Ÿæœƒ</h5>
                          <p class="text-sm text-neutral-600">åŠ å…¥æˆ‘å€‘çš„åœ˜éšŠ</p>
                        </NuxtLink>
                        <NuxtLink to="/press" class="group-item block p-3 rounded-lg hover:bg-neutral-50 transition-colors">
                          <h5 class="font-medium text-neutral-900 hover:text-primary-500 transition-colors">åª’é«”ä¸­å¿ƒ</h5>
                          <p class="text-sm text-neutral-600">æœ€æ–°æ–°èå’Œè³‡æº</p>
                        </NuxtLink>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ä¼æ¥­ç‰ˆ -->
            <NuxtLink to="/enterprise" class="text-neutral-700 hover:text-primary-500 font-medium transition-colors py-2">
              ä¼æ¥­ç‰ˆ
            </NuxtLink>

            <!-- å®šåƒ¹æ–¹æ¡ˆ -->
            <NuxtLink to="/pricing" class="text-neutral-700 hover:text-primary-500 font-medium transition-colors py-2">
              å®šåƒ¹æ–¹æ¡ˆ
            </NuxtLink>
          </nav>

          <!-- å³å´ï¼šåŠŸèƒ½é€£çµå’ŒæŒ‰éˆ• -->
          <div class="flex items-center gap-4">
            <!-- æ¢ç´¢æ‡‰ç”¨ç¨‹å¼ -->
            <NuxtLink to="/apps" class="hidden lg:block text-neutral-700 hover:text-primary-500 font-medium transition-colors">
              æ¢ç´¢æ‡‰ç”¨ç¨‹å¼
            </NuxtLink>

            <!-- è¯çµ¡éŠ·å”® -->
            <NuxtLink to="/contact-sales" class="hidden lg:block text-neutral-700 hover:text-primary-500 font-medium transition-colors">
              è¯çµ¡éŠ·å”®
            </NuxtLink>

            <!-- ç™»å…¥ -->
            <NuxtLink to="/login" class="hidden lg:block text-neutral-700 hover:text-primary-500 font-medium transition-colors">
              ç™»å…¥
            </NuxtLink>

            <!-- å…è²»è¨»å†ŠæŒ‰éˆ• -->
            <BaseButton variant="primary" size="sm" class="hidden lg:block">
              å…è²»è¨»å†Š
            </BaseButton>

            <!-- è¡Œå‹•ç‰ˆé¸å–®æŒ‰éˆ• -->
            <button @click="toggleMobileMenu" class="lg:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors" aria-label="é–‹å•Ÿé¸å–®" :aria-expanded="mobileMenuOpen">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </header>
  </div>
</template>

<script setup lang="ts">
// Vue 3 Composition API å’Œ TypeScript
import { ref, onMounted, onUnmounted } from 'vue'

// éŸ¿æ‡‰å¼ç‹€æ…‹ç®¡ç†
const showBanner = ref(true)
const mobileMenuOpen = ref(false)

// æ©«å¹…æ§åˆ¶
const closeBanner = () => {
  showBanner.value = false
  // è¨˜ä½ç”¨æˆ¶é¸æ“‡
  if (typeof window !== 'undefined') {
    localStorage.setItem('tw-zapier-banner-closed', 'true')
  }
}

// è¡Œå‹•ç‰ˆé¸å–®æ§åˆ¶
const toggleMobileMenu = () => {
  mobileMenuOpen.value = !mobileMenuOpen.value
}

// é»æ“Šå¤–éƒ¨é—œé–‰é¸å–®
const handleClickOutside = (event: Event) => {
  const target = event.target as HTMLElement
  const header = document.querySelector('.header-wrapper')

  if (header && !header.contains(target)) {
    mobileMenuOpen.value = false
  }
}

// éµç›¤å°èˆªæ”¯æ´
const handleKeyDown = (event: KeyboardEvent) => {
  if (event.key === 'Escape') {
    mobileMenuOpen.value = false
  }
}

// ç”Ÿå‘½é€±æœŸç®¡ç†
onMounted(() => {
  if (typeof window !== 'undefined') {
    // æª¢æŸ¥æ©«å¹…ç‹€æ…‹
    const bannerClosed = localStorage.getItem('tw-zapier-banner-closed')
    if (bannerClosed === 'true') {
      showBanner.value = false
    }

    // æ·»åŠ äº‹ä»¶ç›£è½å™¨
    document.addEventListener('click', handleClickOutside)
    document.addEventListener('keydown', handleKeyDown)
  }
})

onUnmounted(() => {
  if (typeof window !== 'undefined') {
    // æ¸…ç†äº‹ä»¶ç›£è½å™¨
    document.removeEventListener('click', handleClickOutside)
    document.removeEventListener('keydown', handleKeyDown)
  }
})
</script>

<style scoped>
/* Header ç‰¹å®šæ¨£å¼ */
.header-wrapper {
  position: relative;
}

/* å…¨å¯¬åº¦ä¸‹æ‹‰é¸å–®æ¨£å¼ */
.group .group-hover\:opacity-100 {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease-in-out;
}

.group:hover .group-hover\:opacity-100 {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* ä¸‹æ‹‰é¸å–®ç®­é ­æ—‹è½‰æ•ˆæœ */
.group:hover .group-hover\:rotate-180 {
  transform: rotate(180deg);
}

/* ç¢ºä¿ä¸‹æ‹‰é¸å–®åœ¨æœ€ä¸Šå±¤ */
.group .group-hover\:opacity-100 {
  z-index: 50;
}

/* æ‡¸åœæ•ˆæœå„ªåŒ– */
.group-item:hover h5 {
  color: #86735E;
}

/* ç„¡éšœç¤™è¨­è¨ˆï¼šéµç›¤å°èˆªæ”¯æ´ */
.group button:focus + .group-hover\:opacity-100,
.group .group-hover\:opacity-100:focus-within {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* å¹³æ»‘çš„æ‡¸åœéæ¸¡æ•ˆæœ */
.group button {
  transition: color 0.2s ease-in-out;
}

.group button svg {
  transition: transform 0.2s ease-in-out;
}

/* éŸ¿æ‡‰å¼èª¿æ•´ */
@media (max-width: 1024px) {
  .group .group-hover\:opacity-100 {
    display: none;
  }
}
</style>
